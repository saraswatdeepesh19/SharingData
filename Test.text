console.log('Received data:', event.data);

            // Check if the data is properly prefixed
            if (!event.data.startsWith('data:image/png;base64,')) {
                console.error('Invalid image data:', event.data);
                document.getElementById('fallback').innerText = 'Invalid image data received.';
                return;
            }

            const imageContainer = document.getElementById('images');
            const img = document.createElement('img');
            img.src = event.data;

            // Add some basic styling to ensure images are visible
            img.style.display = 'block';
            img.style.maxWidth = '100%';
            img.style.margin = '10px 0';

            img.onerror = function() {
                console.error('Failed to load image:', event.data);
                document.getElementById('fallback').innerText = 'Failed to load image.';
            };

            imageContainer.appendChild(img);
        };

        eventSource.onerror = function(error) {
            console.error('Error: ', error);
            document.getElementById('fallback').innerText = 'Error receiving event stream.';
            eventSource.close();
        };
    </script>
</body>
</html>
